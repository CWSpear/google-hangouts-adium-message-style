function date(e,t){var n=this,r,s,o=/\\?([a-z])/gi,u,a=function(e,t){e+="";return e.length<t?a("0"+e,t,"0"):e},f=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"];u=function(e,t){return s[e]?s[e]():t};s={d:function(){return a(s.j(),2)},D:function(){return s.l().slice(0,3)},j:function(){return r.getDate()},l:function(){return f[s.w()]+"day"},N:function(){return s.w()||7},S:function(){var e=s.j();i=e%10;i<=3&&parseInt(e%100/10)==1&&(i=0);return["st","nd","rd"][i-1]||"th"},w:function(){return r.getDay()},z:function(){var e=new Date(s.Y(),s.n()-1,s.j()),t=new Date(s.Y(),0,1);return Math.round((e-t)/864e5)},W:function(){var e=new Date(s.Y(),s.n()-1,s.j()-s.N()+3),t=new Date(e.getFullYear(),0,4);return a(1+Math.round((e-t)/864e5/7),2)},F:function(){return f[6+s.n()]},m:function(){return a(s.n(),2)},M:function(){return s.F().slice(0,3)},n:function(){return r.getMonth()+1},t:function(){return(new Date(s.Y(),s.n(),0)).getDate()},L:function(){var e=s.Y();return e%4===0&e%100!==0|e%400===0},o:function(){var e=s.n(),t=s.W(),n=s.Y();return n+(e===12&&t<9?1:e===1&&t>9?-1:0)},Y:function(){return r.getFullYear()},y:function(){return s.Y().toString().slice(-2)},a:function(){return r.getHours()>11?"pm":"am"},A:function(){return s.a().toUpperCase()},B:function(){var e=r.getUTCHours()*3600,t=r.getUTCMinutes()*60,n=r.getUTCSeconds();return a(Math.floor((e+t+n+3600)/86.4)%1e3,3)},g:function(){return s.G()%12||12},G:function(){return r.getHours()},h:function(){return a(s.g(),2)},H:function(){return a(s.G(),2)},i:function(){return a(r.getMinutes(),2)},s:function(){return a(r.getSeconds(),2)},u:function(){return a(r.getMilliseconds()*1e3,6)},e:function(){throw"Not supported (see source code of date() for timezone on how to add support)"},I:function(){var e=new Date(s.Y(),0),t=Date.UTC(s.Y(),0),n=new Date(s.Y(),6),r=Date.UTC(s.Y(),6);return e-t!==n-r?1:0},O:function(){var e=r.getTimezoneOffset(),t=Math.abs(e);return(e>0?"-":"+")+a(Math.floor(t/60)*100+t%60,4)},P:function(){var e=s.O();return e.substr(0,3)+":"+e.substr(3,2)},T:function(){return"UTC"},Z:function(){return-r.getTimezoneOffset()*60},c:function(){return"Y-m-d\\TH:i:sP".replace(o,u)},r:function(){return"D, d M Y H:i:s O".replace(o,u)},U:function(){return r/1e3|0}};this.date=function(e,t){n=this;r=t===undefined?new Date:t instanceof Date?new Date(t):new Date(t*1e3);return e.replace(o,u)};return this.date(e,t)}var timeTimeout,updateTime=function(){clearTimeout(timeTimeout);$(".in-last-hour").each(function(){var e=$(this),t=(new Date(e.attr("datetime"))).getTime(),n,r=(new Date).getTime(),i=r-t;i/=1e3;if(i<60)n="Now";else if(i<120)n="1 min";else if(i<3600)n=Math.floor(i/60)+" mins";else{n=date("M j, Y - g:i A",t/1e3);e.removeClass("in-last-hour")}e.find("span").text(n)});timeTimeout=setTimeout(updateTime,6e4)},log=function(e){var t=$('<p class="hangouts-debug"></p>').html(e);$(".self, .other").last().after(t)},newMessage=function(e){if(!!e){document.getElementById("Chat").appendChild(e);$(".hangouts-sender-avatar.not-processed").not('[src$="_icon.png"]').each(function(){$(this).show().prev().hide()}).removeClass("not-processed")}e||$("time").last().attr("datetime",(new Date).toString());updateTime()};coalescedHTML||(coalescedHTML=new CoalescedHTML);coalescedHTML.setAppendElementMethod(newMessage);$(".hangouts-update .close").click(function(){$(".hangouts-update").hide()});setTimeout(updateTime,100);var isToday=function(e){var t=(new Date((new Date).toISOString().substring(0,10))).getTime(),n=(new Date((new Date(e)).toISOString().substring(0,10))).getTime();return t==n},isThisYear=function(e){var t=(new Date).getFullYear(),n=(new Date(e)).getFullYear();return t==n};